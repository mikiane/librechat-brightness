version: 1.2.4

# 1) Interface : masquer Assistants & Plugins, activer Agents
interface:
  assistants: true        # cache le menu “Assistants” :contentReference[oaicite:6]{index=6}
  plugins: true           # cache le menu “Plugins (Deprecated)” :contentReference[oaicite:7]{index=7}
  agents: true             # affiche Agents :contentReference[oaicite:8]{index=8}
  endpointsMenu: true
  modelSelect: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: true
  bookmarks: true
  multiConvo: true

# 2) Restreindre les inscriptions au domaine brightness.fr
registration:
  allowedDomains:
    - "brightness.fr"

endpoints:
  custom:
    - name: "Perplexity"
      apiKey: "${PERPLEXITY_API_KEY}"
      baseURL: "https://api.perplexity.ai/"
      models:
        default:
          ["sonar-deep-research","sonar-reasoning-pro","sonar-reasoning","sonar-pro","sonar","r1-1776"]
        fetch: false
      titleConvo: true
      titleModel: "sonar-pro"

ocr:
  strategy: "mistral_ocr"
  apiKey: "${OCR_API_KEY}"       # Fait référence à la variable d'environnement
  baseURL: "${OCR_BASEURL}"      # Fait référence à la variable d'environnement
  mistralModel: "mistral-ocr-latest"  # Optionnel

fileConfig:
  serverFileSizeLimit: 900 # en Mo (max total)
  endpoints:
    default:
      fileSizeLimit: 100    # max par fichier (Mo)
      totalSizeLimit: 900   # par envoi

services:
  api:
    volumes:
      - ./mon-logo.svg:/app/client/public/assets/logo.svg
      - ./favicon-16x16.png:/app/client/public/assets/favicon-16x16.png
      - ./favicon-32x32.png:/app/client/public/assets/favicon-32x32.png
